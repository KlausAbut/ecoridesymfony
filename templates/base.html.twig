<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}EcoRide{% endblock %}</title>
    <link rel="icon" href="/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        window.routes = {
                recherche: "{{ path('covoiturage_ajax_recherche') }}"
            };
    </script>
    {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
    {% endblock %}
</head>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
    const ctx = document.getElementById('creditChart');
    if (ctx) {
        new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ chartLabels|json_encode|raw }},
            datasets: [{
            label: 'Cr√©dits par jour',
            data: {{ chartData|json_encode|raw }},
            backgroundColor: 'rgba(40, 167, 69, 0.6)',
            borderColor: 'rgba(40, 167, 69, 1)',
            borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
            y: { beginAtZero: true }
            }
        }
        });
    }
    </script>

<body>

        {% for message in app.flashes('success') %}
            <div class="alert alert-success text-center mt-3">{{ message }}</div>
        {% endfor %}
    
        {% include 'partials/navbar.html.twig' %}
        <main class="main-content mt-4">
            {% block body %}{% endblock %}
        </main>
        {% include 'partials/footer.html.twig' %}

        {% block javascripts %}
                {{ encore_entry_script_tags('app') }}
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        {% endblock %}
</body>
</html>
