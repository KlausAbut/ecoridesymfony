{% extends 'base.html.twig' %}

{% block title %}Mes trajets proposÃ©s{% endblock %}

{% block body %}
<main class="container">
  <h1 class="mb-4">ðŸš˜ Mes trajets en tant que conducteur</h1>

  {% if covoiturages is empty %}
    <p>Aucun trajet proposÃ© pour lâ€™instant.</p>
  {% else %}
    <section class="mt-5">
      <table class="table">
        <thead>
          <tr>
            <th>Participants</th>
            <th>Date</th>
            <th>DÃ©part</th>
            <th>ArrivÃ©e</th>
            <th>Places</th>
            <th>Statut</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for c in covoiturages %}
            <tr>
              <td>
                {% if c.participants is empty %}
                  Aucun
                {% else %}
                  <ul>
                    {% for participant in c.participants %}
                      <li>{{ participant.username }}</li>
                    {% endfor %}
                  </ul>
                {% endif %}
              </td>
              <td>{{ c.dateDepart|date('d/m/Y') }}</td>
              <td>{{ c.lieuDepart }}</td>
              <td>{{ c.lieuArrivee }}</td>
              <td>{{ c.nbPlace }}</td>
              <td>{{ c.statut.value }}</td>
              <td>
                <a href="{{ path('covoiturage_edit', {'id': c.id}) }}" class="btn btn-primary btn-sm">Modifier</a>
                <a href="{{ path('covoiturage_delete', {'id': c.id}) }}" class="btn btn-danger btn-sm"
                   onclick="return confirm('Es-tu sÃ»r de vouloir supprimer ce trajet ?')">Supprimer</a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>
  {% endif %}
</main>
{% endblock %}
