{% extends 'base.html.twig' %}

{% block title %}Mes trajets réservés{% endblock %}

{% block body %}
<section class="section-box">
  <h2 class="text-center text-success mb-4">📅 Mes trajets réservés</h2>

  {% if participations is empty %}
    <p class="text-center text-muted">Aucune réservation pour l’instant.</p>
  {% else %}
    <div class="table-responsive">
      <table class="table table-hover align-middle text-center">
        <thead class="table-success">
          <tr>
            <th>Date du trajet</th>
            <th>Départ</th>
            <th>Arrivée</th>
            <th>Conducteur</th>
            <th>Réservé le</th>
            <th>Détail</th>
          </tr>
        </thead>
        <tbody>
          {% for p in participations %}
            <tr>
              <td>{{ p.covoiturage.dateDepart|date('d/m/Y') }}</td>
              <td>{{ p.covoiturage.lieuDepart }}</td>
              <td>{{ p.covoiturage.lieuArrivee }}</td>
              <td>{{ p.covoiturage.createdBy.username }}</td>
              <td>{{ p.dateParticipation|date('d/m/Y H:i') }}</td>
              <td>
                <a href="{{ path('covoiturage_show', {id: p.covoiturage.id}) }}" class="btn btn-outline-success btn-sm">
                  🔍 Voir
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% endif %}
</section>
{% endblock %}
